[
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "Results",
    "section": "",
    "text": "This chart represents the historical ecosystems of our area of interest, split out by estimated acres of the various succession classes, pre-European Settlement (referred to as ‘Reference’). On the y axis are names of LANDFIRE’s BpSs and the x axis represent the number of acres. The colors represent the age classes; the purple and orange areas represent late-succession ecosystems. We mapped 28 BpSs within the area of interest. For the chart below excluded BpSs with footprints of less than 100,000 acres. Roughly 60% of the area is estimated to have been historically classified as late-successional habitat.\n\n\nShow the code\nlibrary(tidyverse)\nlibrary(scales)\n\n\nraw_data &lt;- read.csv(\"data/final_df.csv\") %&gt;%\n  filter(!is.na(age_category)) %&gt;%\n  filter(bps_acres &gt; 100000)\n\n\n# get labels ordered properly\n\nraw_data$age_category &lt;- factor(raw_data$age_category, \n                                    levels = c(\n                                      \"Early1\",\n                                      \"Mid1\",\n                                      \"Mid2\",\n                                      \"Late1\",\n                                      \"Late2\"\n                                    ))\n\nraw_data$age_category &lt;- factor(raw_data$age_category, levels = rev(levels(raw_data$age_category)))\n\n\n\nplot_acres &lt;-\n  ggplot(raw_data, aes(fill = age_category, y = ref_scls_acres, x = reorder(bps_name, -bps_acres))) +\n  geom_bar(position = \"stack\", stat = \"identity\") +\n  coord_flip() +\n  labs(\n    title = \"\",\n    subtitle = \"\",\n    caption = \"Data from landfire.gov. BpSs with small footprint removed for clarity (&gt; 100k acres)\",\n    x = \"\",\n    y = \"Acres\",\n    fill = \"Succession Class\") +\n  scale_x_discrete(limits = rev, labels = wrap_format(20)) +\n  scale_y_continuous(label = comma, n.breaks = 4) + \n  theme_bw(base_size = 12) + \n  scale_fill_manual(values = c(\"#f5922f\", # orange\n                               \"#532a66\", # purple\n                               \"#827c75\", # grey\n                               \"#f5eb2f\", # yellow\n                               \"#74a36f\" # green-natural veg\n  )) +\n  theme(plot.caption = element_text(hjust = 0, face = \"italic\"), #Default is hjust=1\n        plot.title.position = \"plot\", #NEW parameter. Apply for subtitle too.\n        plot.caption.position =  \"plot\") +\n  theme(legend.position = c(0.8, 0.2)) + \n  theme(plot.margin = unit(c(0.2, 0.75, 0.2, 0.2),\n                           \"inches\"))\n\nplot_acres"
  },
  {
    "objectID": "results.html#historical-ecosystems",
    "href": "results.html#historical-ecosystems",
    "title": "Results",
    "section": "",
    "text": "This chart represents the historical ecosystems of our area of interest, split out by estimated acres of the various succession classes, pre-European Settlement (referred to as ‘Reference’). On the y axis are names of LANDFIRE’s BpSs and the x axis represent the number of acres. The colors represent the age classes; the purple and orange areas represent late-succession ecosystems. We mapped 28 BpSs within the area of interest. For the chart below excluded BpSs with footprints of less than 100,000 acres. Roughly 60% of the area is estimated to have been historically classified as late-successional habitat.\n\n\nShow the code\nlibrary(tidyverse)\nlibrary(scales)\n\n\nraw_data &lt;- read.csv(\"data/final_df.csv\") %&gt;%\n  filter(!is.na(age_category)) %&gt;%\n  filter(bps_acres &gt; 100000)\n\n\n# get labels ordered properly\n\nraw_data$age_category &lt;- factor(raw_data$age_category, \n                                    levels = c(\n                                      \"Early1\",\n                                      \"Mid1\",\n                                      \"Mid2\",\n                                      \"Late1\",\n                                      \"Late2\"\n                                    ))\n\nraw_data$age_category &lt;- factor(raw_data$age_category, levels = rev(levels(raw_data$age_category)))\n\n\n\nplot_acres &lt;-\n  ggplot(raw_data, aes(fill = age_category, y = ref_scls_acres, x = reorder(bps_name, -bps_acres))) +\n  geom_bar(position = \"stack\", stat = \"identity\") +\n  coord_flip() +\n  labs(\n    title = \"\",\n    subtitle = \"\",\n    caption = \"Data from landfire.gov. BpSs with small footprint removed for clarity (&gt; 100k acres)\",\n    x = \"\",\n    y = \"Acres\",\n    fill = \"Succession Class\") +\n  scale_x_discrete(limits = rev, labels = wrap_format(20)) +\n  scale_y_continuous(label = comma, n.breaks = 4) + \n  theme_bw(base_size = 12) + \n  scale_fill_manual(values = c(\"#f5922f\", # orange\n                               \"#532a66\", # purple\n                               \"#827c75\", # grey\n                               \"#f5eb2f\", # yellow\n                               \"#74a36f\" # green-natural veg\n  )) +\n  theme(plot.caption = element_text(hjust = 0, face = \"italic\"), #Default is hjust=1\n        plot.title.position = \"plot\", #NEW parameter. Apply for subtitle too.\n        plot.caption.position =  \"plot\") +\n  theme(legend.position = c(0.8, 0.2)) + \n  theme(plot.margin = unit(c(0.2, 0.75, 0.2, 0.2),\n                           \"inches\"))\n\nplot_acres"
  },
  {
    "objectID": "results.html#estimated-percentages-of-late-succesional-habitat-reference-and-current",
    "href": "results.html#estimated-percentages-of-late-succesional-habitat-reference-and-current",
    "title": "Results",
    "section": "Estimated Percentages of Late-Succesional Habitat, Reference and Current",
    "text": "Estimated Percentages of Late-Succesional Habitat, Reference and Current\nThe map below represents the reference and current (ca2020) percentages of late-successional forest by ecosystem. In general there has been a substantial loss of late-successional habitat in this area. Loss is calculated per ecosystem, and the percent is the same across each ecosystem’s footprint. We did not map where late succession occurred historically as it likely moved around so we cannot calculate change at a per pixel level."
  },
  {
    "objectID": "results.html#estimated-changes-in-late-successional-reference-to-current",
    "href": "results.html#estimated-changes-in-late-successional-reference-to-current",
    "title": "Results",
    "section": "Estimated Changes in Late Successional, Reference to Current",
    "text": "Estimated Changes in Late Successional, Reference to Current\nThis chart shows changes in amounts of late-successional habitat by ecosystem, reference to current (ca2020). The y axis are the top LANDFIRE BpSs and the x axis displays the percent change from reference to current . The arrows/ecosystems are arranged in descending order from most prevalent to least (at the bottom). Yellow arrows indicate a loss, while the green ones represent a gain.\nHere we present the same ecosystems as above, i.e., ones mapped with more than 100,000ac.\n\n\nShow the code\n## filter, group and add helper columns\n\nold_classes &lt;- c(\"Late1\", \"Late2\")\n\nold_growth_loss &lt;- raw_data %&gt;%\n  filter(age_category %in% old_classes) %&gt;%\n  group_by(bps_name) %&gt;%\n  summarize(ref_percent = sum(ref_percent, na.rm = TRUE),\n            cur_percent = sum(cur_percent, na.rm = TRUE),\n            bps_acres = max(bps_acres)) %&gt;%\n  mutate(change = cur_percent - ref_percent,\n       sign_change = (change &gt;0)) \n\n\n# try arrow plot\n\n\narrow_plot &lt;- old_growth_loss |&gt; \n  ggplot(aes(\n      x = ref_percent, xend = cur_percent, \n      y = reorder(bps_name, -bps_acres), yend = bps_name,\n      color = sign_change)) +\n  geom_segment(\n    arrow = arrow(angle = 30, length = unit(0.5, 'cm')),\n    size = 2) +\n  labs(\n    x = 'Percent Change', \n    y = element_blank(),\n    title = 'Changes in Late Succession Classes References to ~2020',\n    subtitle = 'BpSs in descending order by total extent'\n  ) +\n  scale_color_manual(\n    values = c(\"#fcba03\", \"#10692c\")) +\n  theme_bw(base_size = 12) + \n  theme(legend.position = \"none\") +\n  scale_y_discrete(limits = rev, labels = wrap_format(20)) \n\n\narrow_plot"
  },
  {
    "objectID": "results.html#reference-and-current-open-canopy-late-successional-habitat",
    "href": "results.html#reference-and-current-open-canopy-late-successional-habitat",
    "title": "Results",
    "section": "Reference and current open-canopy late successional habitat",
    "text": "Reference and current open-canopy late successional habitat\nThis map represents the percent of reference (left) and current (right), open-canopy, late-successional forests. Reference open-canopy late-succession habitat ranged from 5-68% per BpS, and currently that amount ranges from 1-28% per BpS."
  },
  {
    "objectID": "results.html#reference-and-current-closed-canopy-late-successional-habitat",
    "href": "results.html#reference-and-current-closed-canopy-late-successional-habitat",
    "title": "Results",
    "section": "Reference and current closed-canopy late successional habitat",
    "text": "Reference and current closed-canopy late successional habitat\nThis map represents the percent of reference (left) and current (right), closed-canopy, late-successional forests. Reference closed-canopy late-succession habitat ranged from 42-55% per BpS, and currently that amount ranges from 32-84% per BpS."
  },
  {
    "objectID": "results.html#estimated-changes-in-late-successional-habitat-reference-to-current-open-and-closed",
    "href": "results.html#estimated-changes-in-late-successional-habitat-reference-to-current-open-and-closed",
    "title": "Results",
    "section": "Estimated Changes in Late Successional Habitat, Reference to Current, Open and Closed",
    "text": "Estimated Changes in Late Successional Habitat, Reference to Current, Open and Closed\nThis chart shows change in amounts of late-successional open and closed canopy habitat by ecosystem, from modeled reference to mapped using data from 2020. The y axis are the top LANDFIRE BpSs and the x axis displays the percent change from reference to ca2020. The arrows/ecosystems are arranged in descending order from most prevalent to least (at the bottom). Yellow arrows indicate a loss, while the green ones represent a gain.\nExample interpretations: 1) North Pacific Maritime Mesic-Wet Douglas-fir Western Hemlock Forest experienced a ~73% decrease in closed-canopy and a ~5% decrease in open-canopy forest type. 2) Mediterranean California Dry-Mesic Mixed Conifer Forest and Woodland experienced a ~23% increase in closed-canopy and a ~35% decrease in open-canopy forest type.\n\n\nShow the code\n## old growth change split out by open/closed\n\n\nlibrary(tidyverse)\n\n\n## filter, group and add helper columns\n\n\nold_classes &lt;- c(\"Late1\", \"Late2\")\n\nold_growth_chng_canopy &lt;- raw_data %&gt;%\n  filter(age_category %in% old_classes) %&gt;%\n  filter(canopy_category != 'ALL') %&gt;%\n  group_by(bps_name, canopy_category) %&gt;%\n  summarize(ref_percent = sum(ref_percent, na.rm = TRUE),\n            cur_percent = sum(cur_percent, na.rm = TRUE),\n            bps_acres = max(bps_acres)) %&gt;%\n  mutate(change = cur_percent - ref_percent,\n         sign_change = (change &gt; 0)) \n\n\n## try chart with facets\n\nfacet_names &lt;- c(\n  \"CLS\" = \"Closed Canopy\",\n  \"OPN\" = \"Open Canopy\"\n)\n\ncanopy_arrow_plot &lt;- old_growth_chng_canopy %&gt;%\n  ggplot(aes(\n    x = ref_percent, xend = cur_percent, \n    y = reorder(bps_name, bps_acres), yend = bps_name,\n    color = sign_change)) +\n  geom_segment(\n    arrow = arrow(angle = 30, length = unit(0.5, 'cm')),\n    size = 2) +\n  labs(\n    x = 'Percent Change', \n    y = element_blank(),\n    title = 'Changes in Late Succession Classes Historical to ~2020',\n    subtitle = 'Arrows in descending order by total extent of ecosystem'\n  ) +\n  scale_color_manual(\n    values = c(\"#fcba03\", \"#10692c\")) +\n  theme_bw(base_size = 12) + \n  theme(legend.position = \"none\") +\n  facet_wrap(~ canopy_category, \n             ncol = 2,\n             labeller = as_labeller(facet_names))+\n  scale_y_discrete(limits = rev, labels = wrap_format(20))\n\ncanopy_arrow_plot"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Exploring Late-Successional Habitat",
    "section": "",
    "text": "Late-successional forests play a crucial role in maintaining biodiversity and supporting ecosystem health. The forests we describe in this short web application are concentrated on the western side of the Cascade Range along the coast of Oregon, USA. The 2022 “Executive Order on Strengthening the Nation’s Forests, Communities, and Local Economies” highlighted the ecosystem resilience of these forests and noted their ecological significance to maintaining biodiversity, sequestering carbon, and regulating a healthy, functioning water cycle (See Barnett et al., (2023) and DellaSala et al., 2022).\n\n\n\n\n\n©Patrick McDonald/TNC Photo Contest 2018\n\n\nLate-successional forests can also be difficult to define, from an ecological point of view (Gray et al., 2023). For example they are often characterized as “closed canopy”, but this may not always be the case as fire-dependent ecosystems may have “open-canopy”, late-succession habitat. For example, riparian ecosystems may naturally have frequent ice scouring and/or flooding that removes some, but not all trees (e.g., Estes et al., 2023).\nLate-successional, fire adapted ecosystems can have frequent surface fires that keep the canopy relatively open while preserving older and taller trees (e.g., Mugnani et al., 2019) that are characteristic of this forest type. Broadening the definition of late-successional forests to include both closed and open canopy ecosystems provides a more accurate estimate of the remaining late-successional forests, aids in the identification of key areas for conservation and helps identify positive or negative trends.\n \n\n\n\n© Harley Soltes; Ellsworth Creek, Willapa Bay, WA"
  },
  {
    "objectID": "index.html#why-late-successional-forests",
    "href": "index.html#why-late-successional-forests",
    "title": "Exploring Late-Successional Habitat",
    "section": "",
    "text": "Late-successional forests play a crucial role in maintaining biodiversity and supporting ecosystem health. The forests we describe in this short web application are concentrated on the western side of the Cascade Range along the coast of Oregon, USA. The 2022 “Executive Order on Strengthening the Nation’s Forests, Communities, and Local Economies” highlighted the ecosystem resilience of these forests and noted their ecological significance to maintaining biodiversity, sequestering carbon, and regulating a healthy, functioning water cycle (See Barnett et al., (2023) and DellaSala et al., 2022).\n\n\n\n\n\n©Patrick McDonald/TNC Photo Contest 2018\n\n\nLate-successional forests can also be difficult to define, from an ecological point of view (Gray et al., 2023). For example they are often characterized as “closed canopy”, but this may not always be the case as fire-dependent ecosystems may have “open-canopy”, late-succession habitat. For example, riparian ecosystems may naturally have frequent ice scouring and/or flooding that removes some, but not all trees (e.g., Estes et al., 2023).\nLate-successional, fire adapted ecosystems can have frequent surface fires that keep the canopy relatively open while preserving older and taller trees (e.g., Mugnani et al., 2019) that are characteristic of this forest type. Broadening the definition of late-successional forests to include both closed and open canopy ecosystems provides a more accurate estimate of the remaining late-successional forests, aids in the identification of key areas for conservation and helps identify positive or negative trends.\n \n\n\n\n© Harley Soltes; Ellsworth Creek, Willapa Bay, WA"
  },
  {
    "objectID": "index.html#objectives",
    "href": "index.html#objectives",
    "title": "Exploring Late-Successional Habitat",
    "section": "Objectives",
    "text": "Objectives\n\nMap out ecosystem footprints (called “Biophysical Settings” in LANDFIRE data), for the area of interest.\nUse LANDFIRE Biophysical Settings models and descriptions to estimate reference (pre-European Colonization) amounts of late succession habitat, open and closed.\nCompare reference estimates to current amounts of late succession habitat.\nExplore the use of LANDFIRE data to assess late succession."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Mary has been a member of the Conservation Data Lab since 2022, during which time she developed an interest in coding and GIS. A lifelong learner, Mary believes in the power of data to inform natural resource policy at all levels. She holds a B.S. in Environmental Science and French from Northern Michigan University (2024), and will begin her M.S. in Environment and Sustainability at the University of Michigan - Ann Arbor in the fall of 2024, focusing on geospatial data sciences."
  },
  {
    "objectID": "about.html#mary-kelly",
    "href": "about.html#mary-kelly",
    "title": "About",
    "section": "",
    "text": "Mary has been a member of the Conservation Data Lab since 2022, during which time she developed an interest in coding and GIS. A lifelong learner, Mary believes in the power of data to inform natural resource policy at all levels. She holds a B.S. in Environmental Science and French from Northern Michigan University (2024), and will begin her M.S. in Environment and Sustainability at the University of Michigan - Ann Arbor in the fall of 2024, focusing on geospatial data sciences."
  },
  {
    "objectID": "about.html#randy-swaty",
    "href": "about.html#randy-swaty",
    "title": "About",
    "section": "Randy Swaty",
    "text": "Randy Swaty\n Randy is conservation ecologist with 20+ years’ experience working at scales from microbes to landscapes. He uses the best available scientific information combined with strong communication skills to inform decision-makers, influence policy, plan sustainable land management, and increase collaboration. In addition to his full-time position as an ecologist with The Nature Conservancy’s LANDFIRE Team Randy founded and co-leads the Conservation Data Lab."
  },
  {
    "objectID": "about.html#more-information-about-landfire",
    "href": "about.html#more-information-about-landfire",
    "title": "About",
    "section": "More information about LANDFIRE",
    "text": "More information about LANDFIRE\nWhat is LANDFIRE? LANDFIRE, Landscape Fire and Resource Management Planning Tools, is a shared program between the wildland fire management programs of the U.S. Department of Agriculture Forest Service, the U.S. Department of the Interior, and The Nature Conservancy, that provides landscape-scale geo-spatial products, vegetation models and tools to support cross-boundary planning, management, and operations.\nLANDFIRE Mission: LF’s mission is to provide agency leaders and managers with a common “all-lands” data set of vegetation and wildland fire/fuels information for strategic fire and resource management planning and analysis.\nWhat does LANDFIRE provide? This multi-partner program produces consistent, comprehensive, geospatial data and databases that describe vegetation, wildland fuel, and fire regimes across the United States and insular areas. Use the LF Definitions Quality and Standards Report to learn how LF creates the data. Use the LANDFIRE Data Dictionary to help locate LF information.\nRegister for LANDFIRE Office Hours (Last Wed Month, 1 pm ET): https://tnc.zoom.us/meeting/register/tJwvcOqopz4uHNbBBWNoFeLIHpdH8YFO7QLS\nRegister for the brief LANDFIRE Newsletter: http://eepurl.com/cajG91\nCheck out LANDFIRE on YouTube: https://www.youtube.com/user/LANDFIREvideo\nSee recent LANDFIRE Application Highlights: https://arcg.is/1jmKm90\nHave a LANDFIRE Question? Get in touch: helpdesk@landfire.gov"
  },
  {
    "objectID": "about.html#additional-resources",
    "href": "about.html#additional-resources",
    "title": "About",
    "section": "Additional Resources",
    "text": "Additional Resources\nOn the Methods page we mentioned several concepts. Below are some supporting resources:\n\nPeer reviewed journal article about development of the Biophysical Settings models: Blankenship, K., Swaty, R., Hall, K.R., Hagen, S., Pohl, K., Shlisky Hunt, A., Patton, J., Frid, L. and Smith, J., 2021. Vegetation dynamics models: A comprehensive set for natural resource assessment and planning in the United States. Ecosphere, 12(4), p.e03484. https://esajournals.onlinelibrary.wiley.com/doi/pdf/10.1002/ecs2.3484\nPeer reviewed journal article about vegetation departure (i.e., use of succession classes as an ecosystem health metric): Swaty, R., Blankenship, K., Hall, K.R., Smith, J., Dettenmaier, M. and Hagen, S., 2021. Assessing Ecosystem Condition: Use and Customization of the Vegetation Departure Metric. Land, 11(1), p.28. https://www.mdpi.com/2073-445X/11/1/28\nPeer reviewed journal article that uses LANDFIRE data to explore old-growth management in eastern Oregon: Ager, A.A., Vaillant, N.M. and Finney, M.A., 2010. A comparison of landscape fuel treatment strategies to mitigate wildland fire risk in the urban interface and preserve old forest structure. Forest Ecology and Management, 259(8), pp.1556-1570. https://www.sciencedirect.com/science/article/pii/S0378112710000514"
  },
  {
    "objectID": "about.html#acknowledgements",
    "href": "about.html#acknowledgements",
    "title": "About",
    "section": "Acknowledgements",
    "text": "Acknowledgements\n\nLANDFIRE\nThe Nature Conservancy’s LANDFIRE team\nThe Conservation Data Lab"
  },
  {
    "objectID": "discussion.html",
    "href": "discussion.html",
    "title": "Discussion",
    "section": "",
    "text": "Overall, late-successional forests have declined from pre-European conditions to present-day. Our preliminary analysis suggests that on average, late-successional forests have declined 60%, with nearly all ecosystems losing open-canopy, and coastal ecosystems losing closed-canopy, late successional. However, some areas have experienced a gain in late-successional forests, perhaps due to fire suppression.\n\n\n\nOur results demonstrate the importance of considering open canopy LS, especially in fire adapted ecosystems. If we only consider ‘closed-canopy’ late succession habitat, we may underestimate those areas. Consideration of both canopy types could lead to a fuller understanding of the ecosystems at hand, as well as increased forest resiliency and stronger and more inclusive management strategies moving forward."
  },
  {
    "objectID": "discussion.html#discussion",
    "href": "discussion.html#discussion",
    "title": "Discussion",
    "section": "",
    "text": "Overall, late-successional forests have declined from pre-European conditions to present-day. Our preliminary analysis suggests that on average, late-successional forests have declined 60%, with nearly all ecosystems losing open-canopy, and coastal ecosystems losing closed-canopy, late successional. However, some areas have experienced a gain in late-successional forests, perhaps due to fire suppression.\n\n\n\nOur results demonstrate the importance of considering open canopy LS, especially in fire adapted ecosystems. If we only consider ‘closed-canopy’ late succession habitat, we may underestimate those areas. Consideration of both canopy types could lead to a fuller understanding of the ecosystems at hand, as well as increased forest resiliency and stronger and more inclusive management strategies moving forward."
  },
  {
    "objectID": "discussion.html#caveats",
    "href": "discussion.html#caveats",
    "title": "Discussion",
    "section": "Caveats",
    "text": "Caveats\n\nThis analysis was done to explore broad trends over time and should be used as a launch point for localized, in-depth analyses.\nWe were intentional in using the term ‘late successional’, as that is the language used by LANDFIRE in the BpS models and descriptions. In our interpretation this is a broad category that may or may not include more traditionally defined “old-growth” or “mature” forests.\nReference conditions were modeled by experts using a mix of expert opinion, local data and literature. The amount of input information could vary from BpS to BpS. For more information on the modeling methods, see Blankenship et al., 2021.\n\n\nFuture directions\nThis project was completed as an internship at Northern Michigan University over one semester using freely available data from LANDFIRE with no modifications. We hope that this work is continued and suggest a few possible directions:\n\nTry in other landscapes. This landscape was interesting to us because it has amazing elevational changes and variation in ecosystems. Repeating the work in the southeast is of particular interest due to the coastal and fire adapted ecosystems there.\nAs noted above ‘late-succession’ does not necessarily mean ‘old-growth’ or ‘mature’. Use other datasets to corroborate/winnow down (or add to) LANDFIRE late succession areas. Specific parameters will depend on the ecosystem. For example, coarse woody debris and hummock development might be a key indicator of mature forests in some places.\nReview and refine late-succession class rules for local situations."
  },
  {
    "objectID": "methods.html",
    "href": "methods.html",
    "title": "Methods",
    "section": "",
    "text": "The LANDFIRE Program provides 25+ national geo-spatial layers (e.g. vegetation, fuel, disturbance, etc.), databases, and ecological models that are available to the public for the U.S. and insular areas.\nWe relied on Three LANDFIRE Products as inputs for this initial analysis:\n\nBiophysical Settings (BpS) Models, Documents and Reference Condition tables: For estimating “reference” (historic) amounts of open- and closed late-succession classes.\nBiophysical Settings Spatial Data: Were used to map ‘ecosystem footprints’.\nSuccession Class Spatial Data: To create a map of current succession classes. These are linked to the BpS products.\n\n*NOTE: LANDFIRE data is delivered as geotifs with 30M pixel size. All maps were created in ArcGIS Pro. All charts were plotted in R/R-Studio."
  },
  {
    "objectID": "methods.html#gis-operations",
    "href": "methods.html#gis-operations",
    "title": "Methods",
    "section": "GIS operations",
    "text": "GIS operations\n\nClipping ecosystem footprint data\nWe relied on LANDFIRE’s Biophysical Settings (BpS) to obtain “potential ecosystem footprints” to represent what would have been present prior to European colonization of North America. LANDFIRE’s BpS suite is based on both the current biophysical environment and an approximation of the historical disturbance regime.\nFor example, each BpS, (i.e. “western hemlock douglas fir forest”) is accompanied by a description that includes information on its succession classes and a model which captures historical disturbances and estimated amounts of succession classes.\nWe used the Clip Raster tool in ArcGIS pro to extract the area of interest from a broader extent of the raster data.\n\n\nObtaining historical percentages of late-successional forests\nFor each BpS, we needed to get estimates how much late-open and late-closed forest would have historically been present. This information was developed in BpS state-and-transition models, and available in a couple formats:\n\nThe BpS Reference Condition Table obtainable by clicking “Reference Conditions” here.\nBpS description documents. We downloaded them by filtering for Map Zone 2 at https://landfirereview.org/search.php.\n\nExample - Below is a screenshot of a BpS model: 1. Boxes represent the succession classes, or structural stages of an ecosystem 2. Lines represent succession and disturbance pathways 3. What’s missing from the diagram? The quantitative, disturbance inputs from the model, or the outputs which include percent of each succession class that would have occurred historically (visit the LANDFIRE Vegetation Modeling site to learn more about the modeling process).\n\n\n\nAssessing current succession classes\nWe used the LANDFIRE succession class dataset to estimate the percentage of each succession class that occurs (per BpS) on today’s landscape. Each pixel within a BpS is labeled “A through E” for the “reference” states, and includes labels for other categories such as agriculture and urban.\nStep 1: Use the “clip raster” tool to extract the area of interest from a broader extent of the raster data.\nStep 2: Do a ‘combine’ using the Combine Tool of the BpS and succession class data to get a dataframe with pixel counts of each unique combination of BpS and succession class to allow for estimating of the amounts of current succession classes per BpS.\nStep 3: Use the Join Field Tool to join the ‘BPS_NAME’, ‘BPS_MODEL’ attributes from the BpS dataset, and the ‘Label’ attribute from the Succession Class dataset (see output data example below).\nThe rules for defining the structural characteristics of each succession class are in the BpS descriptions, and are essentially combinations of height, cover and type.\n\n\nWrangling data exported from ArcGIS Pro\nOnce we have clipped, combined and attributed spatial data in ArcGIS pro, we need to do a little data wrangling in R to further prep the spatial data for mapping and to make some charts. In summary we:\n\nRead the combined data attribute table and supporting data tables from LANDFIRE into R (all located in ‘data’ directory in Git repo)\n\nBpS-Succession Class Combined attribute table (named “bps_scl_cmbn.csv”)\nSuccession Class Descriptions (named “scls_descriptions.csv”)\nReference condition percentages (named “ref_con_long.csv”)\nMap Zone 2 Biophysical Settings (named “bps_mz2.csv”)\n\nBuild and join in succession class ‘descriptions’ (e.g., ‘Late1-Closed’)\nDo a little cleaning, and make a new ‘join_field’\nCalculate reference and current acres per succession class per BpS\n\nClick the “Code” button to see code.\n\n\n\nShow the code\n## read in raw data and sclass descriptions\n\nraw_bps_scls &lt;- read.csv(\"data/bps_scls_cmbn.csv\")\n\nsclass_descriptions &lt;- read.csv(\"data/scls_descriptions.csv\")\n\nreference_percents &lt;- read.csv(\"data/ref_con_long.csv\")\n\nbps_mz2 &lt;- read.csv(\"data/bps_mz2.csv\")\n\n##  clean and prep raw combined data\n\nclean_bps_scls_cmbn &lt;- raw_bps_scls %&gt;%\n  clean_names() %&gt;%\n  dplyr::select(-c(4, 5)) %&gt;%\n  unite(\"join_field\", bps_model,label, sep = \"_\", remove = FALSE )\n\n## clean and prep sclass descriptions\n\nsclass_descriptions_clean &lt;- sclass_descriptions %&gt;%\n  dplyr::select(-c(4)) %&gt;% # remove column\n  rename(\"model_code\" = \"StratumID\",\n         \"scls_label\" = \"ClassLabelID\",\n         \"state_class_id\" = \"StateClassID\" ) %&gt;% # rename columns\n  unite(\"join_field\", model_code:scls_label, sep = \"_\", remove = FALSE ) %&gt;%\n  separate(state_class_id, into = c(\"age_category\", \"canopy_category\"), sep = \":\", remove = FALSE) \n\n\n## clean and prep reference percents\n\nunique_sclass_labels_ref &lt;- unique(reference_percents$refLabel)\n#print(unique_sclass_labels_ref)\n\nunique_sclass_lables_cmbn &lt;- unique(clean_bps_scls_cmbn$label)\n#print(unique_sclass_lables_cmbn)\n# does not have barren/sparse and there are differences, e.g., Urban-Developed between this and sclass label\n# will assume Barren/Sparse, NoData and Snow/Ice is minimal; will change \"Developed\" to \"Urban\" in reference df cleaning code \n\nclean_ref_percents &lt;- reference_percents %&gt;%\n  clean_names() %&gt;%\n  mutate(across('ref_label', str_replace, 'Developed', 'Urban')) %&gt;%\n  mutate(across('model_label', str_replace, 'Developed', 'Urban')) %&gt;%\n  rename(\"join_field\" = \"model_label\",\n         \"bps_name\" = \"bp_s_name\" )\n\n## need to winnow this df to only the bps model codes in MZ 2\n\nclean_ref_percents_mz2 &lt;- clean_ref_percents %&gt;%\n  filter(model_code %in% bps_mz2$BPS_MODEL)\n\n\n## create 'final' dataframe with reference and current sclass percents, acres and labels\n\n## first ref con and sclass descriptions\nfinal_df &lt;- left_join(clean_ref_percents_mz2, sclass_descriptions_clean) \n\n\n# looks OK, now full join to add reference percents then clean a bit\n\nfinal_df2 &lt;- full_join(final_df, clean_bps_scls_cmbn) %&gt;%\n  dplyr::select(-c(6, 10, 13, 14)) %&gt;%\n  rename( \"cur_scls_count\" = \"count\")\n\n# now for the math: need count/acres per bps, cur sclass percents and differences\n\nfinal_df3 &lt;- final_df2 %&gt;%\n  group_by(bps_name) %&gt;%\n  mutate(bps_count = sum(cur_scls_count, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  mutate(bps_acres = bps_count*0.2223945,\n         ref_scls_acres = bps_acres*(ref_percent/100),\n         cur_scls_acres = cur_scls_count*0.2223945,\n         cur_percent = (cur_scls_acres/bps_acres)*100) %&gt;%\n  mutate(across(12:15, round, 0))\n\n# save to csv to explore in Excel, and reorder columns\n\n#write.csv(final_df3, file = \"data/final_df.csv\", row.names = FALSE)\n\n\nThe resulting final data table was then joined back to the combined BpS-Succession Class data in ArcGIS Pro for mapping."
  }
]